{% extends "components/base.html" %}
{% load static %}
{% load crispy_forms_tags %}
{% block title %}
    - image {{ image.id }} by {{ image.author.username }}
{% endblock title %}
{% block content %}
    <div class="bg-dark text-light px-3 py-5 border border-2 rounded-4 shadow">
        {% csrf_token %}
        <div class="d-flex flex-row align-items-center justify-content-center">
            <h2 class="h2 my-1 mx-5 display-5 text-center">{{ image.title|safe }}</h2>
            <hr />
            <img src="{{ image.image.url }}"
                 class="img-fluid img-responsive rounded-3"
                 width="512"
                 height="512"
                 alt="{{ image.title }}" />
        </div>
        {{ image.description|safe }}
        <div class="text-center p-1 my-1">
            <span>
                Created at {{ image.created_at }} by <a href="{% url 'user_profile' image.author %}">{{ image.author }}</a>
            </span>
            <hr>
            <div class="text-center mb-5"></div>
            {% if user == image.author %}
                <form method="post" action="{% url 'gallery:delete_image' image.id %}">
                    {% csrf_token %}
                    <input type="submit"
                           value="Confirmar exclusÃ£o"
                           class="m-2 py-2 px-3 shadow border border-2 border-white rounded-5 btn btn-danger">
                </form>
            {% endif %}
            <button type="button"
                    onclick="window.history.back()"
                    class="m-2 py-2 px-3 shadow border border-2 border-white rounded-5 btn btn-secondary">
                Voltar
            </button>
        </div>
    </div>
{% endblock content %}
